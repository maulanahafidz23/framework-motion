{% load widget_tweaks %}

<div class="registration-container d-flex justify-content-center align-items-center vh-100 bg-gradient">
    <div class="card registration-card shadow-lg border-0 w-75">
        <div class="card-body p-5">
            <form method="POST" class="registration-form needs-validation" novalidate>
                {% csrf_token %}

                <!-- Name Field -->
                <div class="mb-4">
                    {{ form.name|add_class:"form-control shadow-sm" }}
                    <label for="{{ form.name.id_for_label }}" class="form-label">
                        <i class="bi bi-person me-2"></i>Nama Lengkap
                    </label>
                    {% if form.name.errors %}
                    <div class="invalid-feedback d-block">
                        {% for error in form.name.errors %}
                        <p class="mb-0"><i class="bi bi-exclamation-triangle me-2"></i>{{ error }}</p>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <!-- Phone Field -->
                <div class="mb-4">
                    {{ form.phone|add_class:"form-control shadow-sm" }}
                    <label for="{{ form.phone.id_for_label }}" class="form-label">
                        <i class="bi bi-phone me-2"></i>Nomor Handphone
                    </label>
                    {% if form.phone.errors %}
                    <div class="invalid-feedback d-block">
                        {% for error in form.phone.errors %}
                        <p class="mb-0"><i class="bi bi-exclamation-triangle me-2"></i>{{ error }}</p>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <!-- Email Field -->
                <div class="mb-4">
                    {{ form.email|add_class:"form-control shadow-sm" }}
                    <label for="{{ form.email.id_for_label }}" class="form-label">
                        <i class="bi bi-envelope me-2"></i>Email
                    </label>
                    {% if form.email.errors %}
                    <div class="invalid-feedback d-block">
                        {% for error in form.email.errors %}
                        <p class="mb-0"><i class="bi bi-exclamation-triangle me-2"></i>{{ error }}</p>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <!-- Address Field -->
                <div class="mb-4">
                    {{ form.address|add_class:"form-control shadow-sm" }}
                    <label for="{{ form.address.id_for_label }}" class="form-label">
                        <i class="bi bi-geo-alt me-2"></i>Alamat
                    </label>
                    {% if form.address.errors %}
                    <div class="invalid-feedback d-block">
                        {% for error in form.address.errors %}
                        <p class="mb-0"><i class="bi bi-exclamation-triangle me-2"></i>{{ error }}</p>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <!-- Membership Field -->
                <div class="mb-4">
                    {{ form.membership|add_class:"form-control shadow-sm" }}
                    <label for="{{ form.membership.id_for_label }}" class="form-label">
                        <i class="bi bi-card-checklist me-2"></i>Membership
                    </label>
                    {% if form.membership.errors %}
                    <div class="invalid-feedback d-block">
                        {% for error in form.membership.errors %}
                        <p class="mb-0"><i class="bi bi-exclamation-triangle me-2"></i>{{ error }}</p>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <button type="submit" class="btn btn-primary w-100 btn-lg mt-4 btn-submit">
                    <i class=""></i>Simpan Registrasi
                </button>
            </form>
        </div>
    </div>
</div>

<style>
    .bg-gradient {
        background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
    }

    .registration-container {
        background-size: cover;
        background-position: center;
        max-width: 100%;
    }

    .registration-card {
        width: 100%;
        max-width: 900px;
        /* Membuat kartu lebih lebar */
        border-radius: 15px;
        overflow: hidden;
    }

    .card-header {
        position: relative;
        background: linear-gradient(to right, #6a11cb, #2575fc);
    }

    .card-header .overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.1);
    }

    .form-floating>label {
        color: #6c757d;
        transition: all 0.3s ease;
    }

    .form-control:focus {
        box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25) !important;
        border-color: #0d6efd;
    }

    .btn-submit {
        background: linear-gradient(to right, #6a11cb, #2575fc);
        border: none;
        transition: all 0.3s ease;
    }

    .btn-submit:hover {
        transform: translateY(-3px);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .invalid-feedback {
        color: #dc3545;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Form validation
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                var forms = document.getElementsByClassName('needs-validation');
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();

        // Optional: Add interactive effects
        const formInputs = document.querySelectorAll('.form-control');
        formInputs.forEach(input => {
            input.addEventListener('focus', function () {
                this.closest('.form-floating').querySelector('label').style.color = '#0d6efd';
            });
            input.addEventListener('blur', function () {
                this.closest('.form-floating').querySelector('label').style.color = '#6c757d';
            });
        });
    });
</script>